<!--

    Copyright 2014 Jai Veeraswami.
    All rights reserved.

    Ranchero 1.0.0.001
    Release Notes
    - Initial Development
    Known Bugs
    - 
    To Do List
    - Consider removing 'save changes'
      button in favor of auto-save
      functionality
    Bug Fixes
    - None
    Improvements
    - None
    
-->

<!DOCTYPE html>
<html>
<head>
    
    <!-- Document Title -->
    <title> Mule Tracker 1.0 - Release 1.0.0.001 </title>

    <!-- StyleSheet Import -->
    <link rel="stylesheet" href="styles.css"/>
    <link rel="stylesheet" href="blocks.css"/>

    <!-- JavaScript Import -->
    <script type="text/javascript" src="engine.js"></script>

</head>
<body>
    
    <!-- dom construction -->
    <!-- global variables -->
    <!-- global functions -->
    <!-- applicate engine -->
    
    <sector name="PROJECTRANCHERO">
        <div id="mules-interface" class="noselect">
            <div id="left-interface-lighter-panel">
                <div id="left-interface-window-title-group">
                    <div id="left-interface-window-title-heavy">Mule Tracker</div>
                    <div id="left-interface-window-title-light">by Redwindon</div>
                </div>
                <div id="left-interface-window-mule-list">
                    <div id="left-interface-window-mule-list-item" class="selected">
                        <div id="left-interface-window-mule-list-item-name">Redwindon</div>
                        <div id="left-interface-window-mule-list-item-count">14</div>
                    </div>
                    <div id="left-interface-window-mule-list-item">
                        <div id="left-interface-window-mule-list-item-name">xGoldy</div>
                        <div id="left-interface-window-mule-list-item-count">9</div>
                    </div>
                </div>
                <div id="create-mule-button">new mule</div>
                <div id="attribution">Designed by Jai in California</div>
            </div>
            <div id="right-interface-darker-panel">
                <div id="right-interface-window-title-group">
                    <span id="right-interface-window-title-heavy"></span>
                    <span id="right-interface-window-title-light"></span>
                </div>
                <div id="right-interface-window-left-di-list">
                    <div id="right-interface-window-left-di-list-item">
                        <div id="right-interface-window-left-di-list-item-label">Email:</div>
                        <input id="right-interface-window-left-di-list-item-input-email" value="N/A">
                        <div id="di-list-item-action-button">copy</div>
                    </div>
                    <div id="right-interface-window-left-di-list-item">
                        <div id="right-interface-window-left-di-list-item-label">Password:</div>
                        <input id="right-interface-window-left-di-list-item-input-password" value="N/A">
                        <div id="di-list-item-action-button">copy</div>
                    </div>
                </div>
                <div id="right-interface-window-right-di-list">
                    <div id="right-interface-window-right-di-list-item">
                        <div id="right-interface-window-right-di-list-item-label">Slots Available:</div>
                        <output id="right-interface-window-right-di-list-item-output-available">N/A</output>
                    </div>
                    <div id="right-interface-window-right-di-list-item">
                        <div id="right-interface-window-right-di-list-item-label">Slots Used:</div>
                        <output id="right-interface-window-right-di-list-item-output-used">N/A</output>
                    </div>
                </div>
                <div id="right-interface-window-storage">
                    <div id="block-container">
                        <div class="slot occupied">
                            
                            <div class="block bows_UT_DOOMBOW">
        
                                <div class="pixel x6y0"></div>
                                <div class="pixel x7y0"></div>

                                <div class="pixel x5y1"></div>
                                <div class="pixel x7y1"></div>

                                <div class="pixel x4y2"></div>
                                <div class="pixel x7y2"></div>

                                <div class="pixel x3y3"></div>
                                <div class="pixel x6y3"></div>
                                <div class="pixel x7y3"></div>

                                <div class="pixel x2y4"></div>
                                <div class="pixel x4y4"></div>
                                <div class="pixel x5y4"></div>

                                <div class="pixel x1y5"></div>
                                <div class="pixel x4y5"></div>
                                <div class="pixel x5y5"></div>

                                <div class="pixel x0y6"></div>
                                <div class="pixel x3y6"></div>

                                <div class="pixel x0y7"></div>
                                <div class="pixel x1y7"></div>
                                <div class="pixel x2y7"></div>
                                <div class="pixel x3y7"></div>
                                
                            </div>
                            
                        </div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                        <div class="slot"></div>
                    </div>
                </div>
                <div id ="retain-mule-button">save changes</div>
                <div id ="delete-mule-button">delete mule</div>
            </div>
        </div> <!-- mules window interface -->
        <div id="block-interface">
        
        </div> <!-- block module interface -->
    </sector> <!-- DOM construction -->
    <script type="text/javascript">  
        
        /* Mutable Global Variables */
        var muleStore = new MuleLibraryStore('mules');
        
    </script> <!-- global variables -->
    <script type="text/javascript">
        
        // ...
        
    </script><!-- global functions -->
    
    <script type="text/javascript">
        
        /* Immutable Global Functions */
        function appendUISongs() {

            // Empty UI Track List
            document.getElementById('selector').innerHTML = '';

            // Define Variables
            var track_title;
            var track_artist;
            var track_album;
            var track_explicit;
            var track_node;

            // UI Track Appendation Loop
            for (var i = 0; i < musicStore.list.length; i += 1) {

                // Define Variables
                song = musicStore.getSong(i);

                // DOM-Attached Variable Definitions
                track_title = document.createElement('div');
                track_title.classList.add('song-title');
                track_title.innerText = song.title;
                track_artist = document.createElement('div');
                track_artist.classList.add('song-artist');
                track_artist.innerText = song.artist;
                track_album = document.createElement('div');
                track_album.classList.add('song-album');
                track_album.innerText = song.album;
                track_node = document.createElement('div');
                track_node.classList.add('list-item');
                track_node.appendChild(track_title);
                track_node.appendChild(track_artist);
                track_node.appendChild(track_album);

                // Add Vulgar If Required
                if (song.vulgar) {
                    track_explicit = document.createElement('div');
                    track_explicit.classList.add('explicit-indicator');
                    track_explicit.innerText = 'EXPLICIT';
                    track_node.appendChild(track_explicit);
                }

                // Append Track To DOM
                document.getElementById('selector').appendChild(track_node);

            }

            // Song Input Responder Callback
            function songCallback() {

                // Define Variables
                var items = Array.prototype.slice.call(document.getElementsByClassName('list-item'));
                var item = event.target.parentNode;
                var index = items.indexOf(item);

                // Set Flag
                musicStore.setFlag(index);

                // Define Song Reference Variable
                var song = new SongMetadataStore();

                // Import Song From Store
                song.importSong(musicStore.getSong(index));

                // DOM Manipulation
                document.getElementById('audio').setAttribute('src', song.source);
                document.getElementById('audio').play();
                document.getElementById('pause').style.display = 'block';
                document.getElementById('play').style.display = 'none';
                document.getElementById('song-title').innerText = song.title;
                document.getElementById('song-artist').innerText = song.artist;
                document.getElementById('prev').classList.remove('disabled');
                document.getElementById('next').classList.remove('disabled');
                document.getElementById('program').style.display = 'none';
                document.getElementById('version').style.display = 'none';
                document.getElementById('tracer').style.display = 'block';
                document.getElementById('song-elapsed-numericator').style.display = 'block';
                document.getElementById('song-length-numericator').style.display = 'block';

            }

            // Song Input Responder Creation
            songResponders = new InputResponders(document.getElementsByClassName('list-item'));

            // Song Input Responder Config
            songResponders.setCatalyst('click');

            // Song Input Responder Config
            songResponders.setCallback(songCallback);

            // Song Input Responder Config
            songResponders.activate();

        } // sample; not used in this project
        function reloadUI($song) {

            var song = new SongMetadataStore();
            song.importSong($song);

            document.getElementById('song-title').innerText = song.title;
            document.getElementById('song-artist').innerText = song.artist;
            document.getElementById('prev').classList.remove('disabled');
            document.getElementById('next').classList.remove('disabled');
            document.getElementById('program').style.display = 'none';
            document.getElementById('version').style.display = 'none';
            document.getElementById('tracer').style.display = 'block';
            document.getElementById('song-elapsed-numericator').style.display = 'block';
            document.getElementById('song-length-numericator').style.display = 'block';

        } // sample; not used in this project

    </script> <!-- global functions -->
    <script type="text/javascript">

        /* Init Configuration */
        (function () {

            // ... e.g. muleStore.sortBy('name'); & appendUIMules();

        }());

        /* DOMNode Modifiers */
        (function () {

            // ... e.g. document.getElementById('button').style.opacity = 0.5;

        }());

        /* Input Responders */
        (function () {

            var int; // reference (inspector)

            // Input Response Instancializers    
            var createMuleButtonResponder = new InputResponder(document.getElementById('create-mule-button')); // (1)
            var retainMuleButtonResponder = new InputResponder(document.getElementById('retain-mule-button')); // (2)
            var deleteMuleButtonResponder = new InputResponder(document.getElementById('delete-mule-button')); // (3)

            // Input Response Callback Methods
            function createMuleButtonCallback() {

                // Create new mule entry in sidebar
                // Listen for 'enter' keypress; mule name is editable until 'enter' key is heard
                // Add mule to unsynced localStorage variable, then sync it

            } // (1)
            function retainMuleButtonCallback() {

                // Possibly remove this in favor of autosave
                // Get the current 'muleStore' variable (or whatever is used for unsynced changes)
                // And save it with the current data from current right and left window panes.

            } // (2)
            function deleteMuleButtonCallback() {

                // Get the index of the current mule from the .selected in sidebar
                // Make sure user is sure! Remove that index from the unsynced 'muleStore' variable
                // Remove the content from the active right-window fields; remove entry from left-window
                // Sync with localStorage

            } // (3)

            // Input Response Catalysts
            createMuleButtonResponder.setCatalyst('click'); // (1)
            retainMuleButtonResponder.setCatalyst('click'); // (2)
            deleteMuleButtonResponder.setCatalyst('click'); // (3)

            // Input Response Callback Assigners
            createMuleButtonResponder.setCallback(createMuleButtonCallback); // (1)
            retainMuleButtonResponder.setCallback(retainMuleButtonCallback); // (2)
            deleteMuleButtonResponder.setCallback(deleteMuleButtonCallback); // (3)

            // Input Response Activators
            createMuleButtonResponder.activate(); // (1)
            retainMuleButtonResponder.activate(); // (2)
            deleteMuleButtonResponder.activate(); // (3)

        }());

    </script> <!-- applicate engine -->
    
      <!-- Block Standard Template

        <div class="pixel x0y0"></div>
        <div class="pixel x1y0"></div>
        <div class="pixel x2y0"></div>
        <div class="pixel x3y0"></div>
        <div class="pixel x4y0"></div>
        <div class="pixel x5y0"></div>
        <div class="pixel x6y0"></div>
        <div class="pixel x7y0"></div>

        <div class="pixel x0y1"></div>
        <div class="pixel x1y1"></div>
        <div class="pixel x2y1"></div>
        <div class="pixel x3y1"></div>
        <div class="pixel x4y1"></div>
        <div class="pixel x5y1"></div>
        <div class="pixel x6y1"></div>
        <div class="pixel x7y1"></div>

        <div class="pixel x0y2"></div>
        <div class="pixel x1y2"></div>
        <div class="pixel x2y2"></div>
        <div class="pixel x3y2"></div>
        <div class="pixel x4y2"></div>
        <div class="pixel x5y2"></div>
        <div class="pixel x6y2"></div>
        <div class="pixel x7y2"></div>

        <div class="pixel x0y3"></div>
        <div class="pixel x1y3"></div>
        <div class="pixel x2y3"></div>
        <div class="pixel x3y3"></div>
        <div class="pixel x4y3"></div>
        <div class="pixel x5y3"></div>
        <div class="pixel x6y3"></div>
        <div class="pixel x7y3"></div>

        <div class="pixel x0y4"></div>
        <div class="pixel x1y4"></div>
        <div class="pixel x2y4"></div>
        <div class="pixel x3y4"></div>
        <div class="pixel x4y4"></div>
        <div class="pixel x5y4"></div>
        <div class="pixel x6y4"></div>
        <div class="pixel x7y4"></div>

        <div class="pixel x0y5"></div>
        <div class="pixel x1y5"></div>
        <div class="pixel x2y5"></div>
        <div class="pixel x3y5"></div>
        <div class="pixel x4y5"></div>
        <div class="pixel x5y5"></div>
        <div class="pixel x6y5"></div>
        <div class="pixel x7y5"></div>

        <div class="pixel x0y6"></div>
        <div class="pixel x1y6"></div>
        <div class="pixel x2y6"></div>
        <div class="pixel x3y6"></div>
        <div class="pixel x4y6"></div>
        <div class="pixel x5y6"></div>
        <div class="pixel x6y6"></div>
        <div class="pixel x7y6"></div>

        <div class="pixel x0y7"></div>
        <div class="pixel x1y7"></div>
        <div class="pixel x2y7"></div>
        <div class="pixel x3y7"></div>
        <div class="pixel x4y7"></div>
        <div class="pixel x5y7"></div>
        <div class="pixel x6y7"></div>
        <div class="pixel x7y7"></div>

      End Block Standard Template -->
    
</body>
</html>